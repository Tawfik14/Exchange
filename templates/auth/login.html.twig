{% extends 'base.html.twig' %}
{% block title %}Connexion{% endblock %}

{% block body %}
<div style="max-width: 420px; margin: 3rem auto;">
  <div style="text-align:center; margin-bottom: 1rem;">
    <a href="{{ path('app_exchange', {mode: mode|default('guest')}) }}" aria-label="Accueil">
      <img src="/Logo/logo.png" alt="Logo" style="height:72px; width:auto;">
    </a>
  </div>

  <div style="background:rgba(255,255,255,0.04); border:1px solid var(--border); border-radius:16px; padding: 18px;">
    <h1 style="margin:0 0 10px 0; font-size: 1.3rem;">Connexion</h1>

    {% for m in app.flashes('error') %}
      <div style="background:#8b1d1d; color:#fff; padding:.6rem 1rem; border-radius:10px; margin:.5rem 0;">{{ m }}</div>
    {% endfor %}

    <form method="post" action="{{ path('app_login', {mode: mode|default('guest')}) }}" style="display:grid; gap: 12px;">
      <div>
        <label>Email</label>
        <input type="email" name="email" required autofocus
               style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; background:rgba(255,255,255,0.03); color:var(--text);" />
      </div>
      <div>
        <label>Mot de passe</label>
        <input type="password" name="password" required
               style="width:100%; padding:12px; border:1px solid var(--border); border-radius:12px; background:rgba(255,255,255,0.03); color:var(--text);" />
      </div>
      <button class="btn btn-primary" type="submit">Se connecter</button>
    </form>

    <div style="margin-top:10px; color:#93a1c6;">
      Pas de compte ?
      <a href="{{ path('app_register', {mode: mode|default('guest')}) }}" style="text-decoration:underline;">Cr√©er un compte</a>
    </div>
  </div>
</div>
{% endblock %}
